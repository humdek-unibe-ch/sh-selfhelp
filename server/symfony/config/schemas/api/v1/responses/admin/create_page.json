{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Admin Page Definition Response",
    "description": "Schema for the response containing page details from admin endpoints",
    "allOf": [
        {
            "$ref": "../common/_response_envelope.json"
        }
    ],
    "properties": {
        "data": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer",
                    "description": "Unique identifier for the page"
                },
                "keyword": {
                    "type": "string",
                    "description": "Unique keyword for the page"
                },
                "url": {
                    "type": ["string", "null"],
                    "description": "URL path for the page"
                },
                "protocol": {
                    "type": ["string", "null"],
                    "description": "HTTP methods supported by the page (pipe separated list)"
                },
                "action": {
                    "type": ["object", "null"],
                    "description": "Action associated with the page",
                    "properties": {
                        "id": {
                            "type": "integer",
                            "description": "ID of the action lookup"
                        },
                        "typeCode": {
                            "type": "string",
                            "description": "Type code of the lookup",
                            "enum": ["pageActions"]
                        },
                        "lookupCode": {
                            "type": "string",
                            "description": "Code of the lookup"
                        },
                        "lookupValue": {
                            "type": "string",
                            "description": "Display value of the lookup"
                        },
                        "lookupDescription": {
                            "type": ["string", "null"],
                            "description": "Description of the lookup"
                        }
                    },
                    "required": ["id", "typeCode", "lookupCode", "lookupValue"]
                },
                "navigationSection": {
                    "type": ["object", "null"],
                    "description": "Navigation section the page belongs to",
                    "properties": {
                        "id": {
                            "type": "integer",
                            "description": "ID of the navigation section"
                        },
                        "name": {
                            "type": "string",
                            "description": "Name of the navigation section"
                        }
                    },
                    "required": ["id", "name"]
                },
                "parentPage": {
                    "type": ["object", "null"],
                    "description": "Parent page if any",
                    "properties": {
                        "id": {
                            "type": "integer",
                            "description": "ID of the parent page"
                        },
                        "keyword": {
                            "type": "string",
                            "description": "Keyword of the parent page"
                        }
                    },
                    "required": ["id", "keyword"]
                },
                "pageType": {
                    "type": "object",
                    "description": "Type of the page",
                    "properties": {
                        "id": {
                            "type": "integer",
                            "description": "ID of the page type"
                        },
                        "name": {
                            "type": "string",
                            "description": "Name of the page type"
                        }
                    },
                    "required": ["id", "name"]
                },
                "pageAccessType": {
                    "type": "object",
                    "description": "Access type of the page",
                    "properties": {
                        "id": {
                            "type": "integer",
                            "description": "ID of the access type lookup"
                        },
                        "typeCode": {
                            "type": "string",
                            "description": "Type code of the lookup",
                            "enum": ["pageAccessTypes"]
                        },
                        "lookupCode": {
                            "type": "string",
                            "description": "Code of the lookup"
                        },
                        "lookupValue": {
                            "type": "string",
                            "description": "Display value of the lookup"
                        },
                        "lookupDescription": {
                            "type": ["string", "null"],
                            "description": "Description of the lookup"
                        }
                    },
                    "required": ["id", "typeCode", "lookupCode", "lookupValue"]
                },
                "headless": {
                    "type": "boolean",
                    "description": "Whether the page is headless"
                },
                "navPosition": {
                    "type": ["integer", "null"],
                    "description": "Position in navigation menu"
                },
                "footerPosition": {
                    "type": ["integer", "null"],
                    "description": "Position in footer menu"
                },
                "openAccess": {
                    "type": "boolean",
                    "description": "Whether the page has open access"
                },
                "system": {
                    "type": "boolean",
                    "description": "Whether the page is a system page"
                }
            },
            "required": [
                "id", "keyword", "url", "pageType", "pageAccessType", 
                "headless", "openAccess", "system"
            ],
            "additionalProperties": false
        }
    },
    "required": ["data"]
}
